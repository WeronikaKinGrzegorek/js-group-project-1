{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAIA,MAAMC,EAAmBC,SAASC,cAAc,oBAC1CC,EAAcF,SAASC,cAAc,gBAErCE,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,gBAAkB,GAehER,EAAiBS,iBAAiB,SAASC,UACzC,IACE,MAAMC,QAAiBC,MAAM,sFACvBC,QAAaF,EAASG,OAC5BC,OAASF,EAAKG,QAEdD,OAAOE,SAAQC,KAnBnB,SAAoBC,GAClB,MAAMD,EAAQH,OAAOK,MAAKF,GAASA,EAAMG,KAAOF,IACzBf,EAAMkB,MAAKC,GAAgBA,EAAaF,KAAOF,IAOpErB,EAAA0B,OAAOC,QAAQ,UAAUP,EAAMQ,qCAJ/BtB,EAAMuB,KAAKT,GACXX,aAAaqB,QAAQ,aAAcvB,KAAKwB,UAAUzB,IAClDN,EAAA0B,OAAOM,QAAQ,gBAAgBZ,EAAMQ,yBAIzC,CAUMK,CADgBb,EAAMG,GACX,IAEbvB,EAAA0B,OAAOM,QAAQ,sCAGjB,CAFE,MAAOE,GACPlC,EAAA0B,OAAOC,QAAQ,+BAAgCO,EACjD,KAOF7B,EAAYM,iBAAiB,SAAS,KAJtC,IAAsBS,IAKPd,GAJb,EAAA6B,EAAAC,YAAWhB,EAIE","sources":["src/js/add-queue.js"],"sourcesContent":["import { Notify } from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.6.min.css';\nimport { drawMovies } from './draw-movie';\n\nconst addToQueueButton = document.querySelector('#watchlistButton');\nconst queueButton = document.querySelector('#queueButton');\nconst apiKey = '55e390226d2f3f6feba5afe684a5a044';\nconst queue = JSON.parse(localStorage.getItem('movieQueue')) || [];\n\nfunction addToQueue(movieId) {\n  const movie = movies.find(movie => movie.id === movieId);\n  const isMovieInQueue = queue.some(movieInQueue => movieInQueue.id === movieId);\n\n  if (!isMovieInQueue) {\n    queue.push(movie);\n    localStorage.setItem('movieQueue', JSON.stringify(queue));\n    Notify.success(`Added movie \"${movie.title}\" to queue list.`);\n  } else {\n    Notify.failure(`Movie \"${movie.title}\" is already in queue list.`);\n  }\n}\n\naddToQueueButton.addEventListener('click', async () => {\n  try {\n    const response = await fetch('https://api.themoviedb.org/3/search/movie?api_key=' + apiKey);\n    const data = await response.json();\n    movies = data.results;\n\n    movies.forEach(movie => {\n      const movieId = movie.id;\n      addToQueue(movieId);\n    });\n    Notify.success('All movies added to the queue list.');\n  } catch (error) {\n    Notify.failure('Error while fetching movies:', error);\n  }\n});\n\nfunction displayQueue(movie) {\n  drawMovies(movie);\n}\n\nqueueButton.addEventListener('click', () => {\n  displayQueue(queue);\n});\n"],"names":["$7IoHk","parcelRequire","$82620ba3e0e3cf2d$var$addToQueueButton","document","querySelector","$82620ba3e0e3cf2d$var$queueButton","$82620ba3e0e3cf2d$var$queue","JSON","parse","localStorage","getItem","addEventListener","async","response","fetch","data","json","movies","results","forEach","movie","movieId","find","id","some","movieInQueue","Notify","failure","title","push","setItem","stringify","success","$82620ba3e0e3cf2d$var$addToQueue","error","$fMaiS","drawMovies"],"version":3,"file":"index.c3bf8bcb.js.map"}