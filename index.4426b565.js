var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n);var i=n("7IoHk"),a=n("fHyLY");const r=document.querySelector(".gallery-home"),l="55e390226d2f3f6feba5afe684a5a044",c=document.getElementById("loadMore");let s,d=1;async function u(e){const t=`https://api.themoviedb.org/3/genre/movie/list?api_key=${l}&language=en-US`;try{const o=await fetch(t),n=(await o.json()).genres.find((t=>t.id===e));return n?n.name:"Nieznany"}catch(e){return console.error("Błąd pobierania gatunków:",e),"Nieznany"}}document.addEventListener("click",(function(e){const t=e.target.closest(".movie");if(t){const e=Array.from(r.children).indexOf(t),o=s.results[e];v(o),async function(e){const t=document.getElementById("movieModal"),o=(t.querySelector(".modal-content"),t.querySelector("#modalPoster"));o.src=`https://image.tmdb.org/t/p/w300${e.poster_path}`,o.alt=e.title,t.querySelector("#modalTitle").textContent=e.title.toUpperCase(),t.querySelector("#modalRating").textContent=e.vote_average,t.querySelector("#modalPopularity").textContent=e.popularity,t.querySelector("#modalOriginalTitle").textContent=e.original_title;const n=e.genre_ids,i=await Promise.all(n.map((async e=>await u(e))));t.querySelector("#modalGenres").textContent=i.join(", "),t.querySelector("#modalOverview").textContent=e.overview,t.querySelector("#watchedButton").addEventListener("click",(()=>{console.log("Dodano do obejrzanych: "+e.title)})),t.querySelector("#watchlistButton").addEventListener("click",(()=>{console.log("Dodano do obejrzenia: "+e.title)})),t.querySelector("#trailerLink").href=`https://www.youtube.com/results?search_query=${e.title}+trailer`,t.style.display="block"}(o)}}));async function m(){const e=`https://api.themoviedb.org/3/movie/popular?api_key=${l}&language=en-US&page=${d}`;try{const o=await fetch(e);s=await o.json();for(const e of s.results){const o=document.createElement("div");o.classList.add("movie");const n=await Promise.all(e.genre_ids.map((async e=>await u(e)))),i=(t=e.release_date,new Date(t).getFullYear());o.innerHTML=`\n        <div class="movie-content">\n          <img src="https://image.tmdb.org/t/p/w300${e.poster_path}" alt="${e.title}">\n          <h3 class="movie-title">${e.title.toUpperCase()}</h3>\n          <p class="movie-info">\n            ${n.join(", ")} | ${i}\n          </p>\n        </div>\n      `,r.appendChild(o)}(0,a.hideLoader)(),d++}catch(e){console.error("Błąd pobierania danych:",e)}var t}document.getElementById("modalCloseButton").addEventListener("click",(function(){document.getElementById("movieModal").style.display="none"})),c.addEventListener("click",m),m();const y=document.querySelector("#watchlistButton"),p=document.querySelector("#queueButton");let f=JSON.parse(localStorage.getItem("movieQueue"))||[],g=[];function v(e){const t=e.id;f.some((e=>e.id===t))?i.Notify.failure(`Movie "${e.title}" is already in queue list.`):(f.push(e),localStorage.setItem("movieQueue",JSON.stringify(f)),i.Notify.success(`Added movie "${e.title}" to queue list.`))}y.addEventListener("click",(async()=>{try{const e=await fetch("https://api.themoviedb.org/3/search/movie?api_key=55e390226d2f3f6feba5afe684a5a044"),t=await e.json();g=t.results,g.forEach((e=>{v(e)})),i.Notify.success(`Added movie "${movieData.title}" to queue list.`)}catch(e){i.Notify.failure("Error while fetching movies:",e)}})),p.addEventListener("click",(()=>{console.log(f)}));
//# sourceMappingURL=index.4426b565.js.map
