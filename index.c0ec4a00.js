function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r),r("etrig"),r("bc1Ao"),r("6e3C3"),r("iB7wN");var a=r("lN2wz"),i=r("hGVxz");const l={method:"GET",url:"https://api.themoviedb.org/3/genre/movie/list",params:{language:"en",api_key:"55e390226d2f3f6feba5afe684a5a044"},headers:{accept:"application/json",Authorization:"55e390226d2f3f6feba5afe684a5a044"}};let s=null;async function d(){if(s)return s;try{const e=await i.default.request(l);return s=e.data.genres,s}catch(e){return console.error(e),[]}}var c=r("fHyLY"),u=r("7IoHk");const f=document.querySelector(".gallery__list"),p=document.getElementById("loadMore"),h=[];async function m(t,n,o=18){(0,c.showLoader)();try{n+=1;const r=await d();console.log(r);let i=await(0,a.fetchMovies)(t,n);const l=i.results.slice(0,o).map((({poster_path:e,genre_ids:t,id:n,release_date:o,title:a,vote_average:i})=>{const l=e?`https://image.tmdb.org/t/p/w500${e}`:"https://moviereelist.com/wp-content/uploads/2019/07/poster-placeholder.jpg";h.includes(l)||h.push(l);const s=t.map((e=>{const t=r.find((t=>t.id===e));return t?t.name:"Unknown Genre"})).join(",");return`<li class="gallery__list-item" data-movieid="${n}">\n          <img src="${l}" alt="${a}" movie-id="${n}"/>\n          <h3>${a.toUpperCase()}</h3>\n          <p>${s} | <span>${o.slice(0,4)}</span></p>\n                </li>`}));(0,c.showLoader)();const s=[];for(let e=0;e<l.length;e+=3)s.push(l.slice(e,e+3).join(""));f.insertAdjacentHTML("beforeend",s.join(""));const m=i.total_pages;if(console.log(i.total_pages),n===m)return p.style.display="none",e(u).Notify.failure("We're sorry, but you've reached the end of search results.",{timeout:3e3,fontSize:"15px"}),void(0,c.hideLoader)()}catch(e){(0,c.hideLoader)(),console.error(e)}(0,c.hideLoader)()}r("lN2wz"),r("fHyLY"),r("7UJs8");const g=document.querySelector(".search-form-input");function y(){g.value=""}g.addEventListener("focus",y),g.addEventListener("click",y),g.addEventListener("submit",y);const v=document.querySelector(".search-form"),w=document.querySelector('[name="searchQuery"]'),_=document.querySelector(".gallery__list"),L=document.getElementById("loadMore");let b="",E=0;v.addEventListener("submit",(function(e){e.preventDefault(),E=0,b=w.value,_.innerHTML="",m(b,E,18)})),m(w.value,E,18),L.addEventListener("click",(()=>{E++,m(b,E,18)}));
//# sourceMappingURL=index.c0ec4a00.js.map
