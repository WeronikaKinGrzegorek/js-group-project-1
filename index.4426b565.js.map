{"mappings":"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","sources":["src/js/add-queue.js","src/js/modal-movie.js"],"sourcesContent":["import { Notify } from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.6.min.css';\nimport { handleMovieClick } from './modal-movie';\n\nconst addToQueueButton = document.querySelector('#watchlistButton');\nconst queueButton = document.querySelector('#queueButton');\nconst apiKey = '55e390226d2f3f6feba5afe684a5a044';\nlet queue = JSON.parse(localStorage.getItem('movieQueue')) || [];\nlet movies = [];\n\nexport function addToQueue(movieData) {\n  const movieId = movieData.id;\n  const isMovieInQueue = queue.some(movieInQueue => movieInQueue.id === movieId);\n\n  if (!isMovieInQueue) {\n    queue.push(movieData);\n    localStorage.setItem('movieQueue', JSON.stringify(queue));\n    Notify.success(`Added movie \"${movieData.title}\" to queue list.`);\n  } else {\n    Notify.failure(`Movie \"${movieData.title}\" is already in queue list.`);\n  }\n}\n\naddToQueueButton.addEventListener('click', async () => {\n  try {\n    const response = await fetch('https://api.themoviedb.org/3/search/movie?api_key=' + apiKey);\n    const data = await response.json();\n    movies = data.results;\n\n    movies.forEach(movie => {\n      addToQueue(movie);\n    });\n    Notify.success(`Added movie \"${movieData.title}\" to queue list.`);\n  } catch (error) {\n    Notify.failure('Error while fetching movies:', error);\n  }\n});\n\nexport function displayQueue() {\n  console.log(queue);\n}\n\nqueueButton.addEventListener('click', () => {\n  displayQueue(queue);\n});\n","import {\n  showLoader,\n  hideLoader\n} from './loader';\n\n\nconst moviesContainer = document.querySelector('.gallery-home');\n\nconst apiKey = '55e390226d2f3f6feba5afe684a5a044';\n\n\nconst loadMoreButton = document.getElementById('loadMore');\nlet currentPage = 1;\nlet data;\n\nimport { addToQueue } from './add-queue';\n\nasync function fetchGenreName(genreId) {\n  const genreUrl = `https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}&language=en-US`;\n  try {\n    const response = await fetch(genreUrl);\n    const genreData = await response.json();\n\n    const genre = genreData.genres.find(genre => genre.id === genreId);\n    return genre ? genre.name : 'Nieznany';\n  } catch (error) {\n    console.error('Błąd pobierania gatunków:', error);\n    return 'Nieznany';\n  }\n}\n\nfunction formatDate(dateString) {\n  const date = new Date(dateString);\n  return date.getFullYear();\n}\n\nasync function openModal(movieData) {\n  const modal = document.getElementById('movieModal');\n  const modalContent = modal.querySelector('.modal-content');\n\n  const modalPoster = modal.querySelector('#modalPoster');\n  modalPoster.src = `https://image.tmdb.org/t/p/w300${movieData.poster_path}`;\n  modalPoster.alt = movieData.title;\n\n  const modalTitle = modal.querySelector('#modalTitle');\n  modalTitle.textContent = movieData.title.toUpperCase();\n\n  const modalRating = modal.querySelector('#modalRating');\n  modalRating.textContent = movieData.vote_average;\n\n  const modalPopularity = modal.querySelector('#modalPopularity');\n  modalPopularity.textContent = movieData.popularity;\n\n  const modalOriginalTitle = modal.querySelector('#modalOriginalTitle');\n  modalOriginalTitle.textContent = movieData.original_title;\n\n  const genreIds = movieData.genre_ids;\n  const genreNames = await Promise.all(\n    genreIds.map(async genreId => await fetchGenreName(genreId)),\n  );\n  const modalGenres = modal.querySelector('#modalGenres');\n  modalGenres.textContent = genreNames.join(', ');\n\n  const modalOverview = modal.querySelector('#modalOverview');\n  modalOverview.textContent = movieData.overview;\n\n  const watchedButton = modal.querySelector('#watchedButton');\n  watchedButton.addEventListener('click', () => {\n    console.log('Dodano do obejrzanych: ' + movieData.title);\n  });\n\n  const watchlistButton = modal.querySelector('#watchlistButton');\n  watchlistButton.addEventListener('click', () => {\n    console.log('Dodano do obejrzenia: ' + movieData.title);\n  });\n\n  const trailerLink = modal.querySelector('#trailerLink');\n  trailerLink.href = `https://www.youtube.com/results?search_query=${movieData.title}+trailer`;\n\n  modal.style.display = 'block';\n}\n\nfunction closeModal() {\n  const modal = document.getElementById('movieModal');\n  modal.style.display = 'none';\n}\n\nexport function handleMovieClick(event) {\n  const movieElement = event.target.closest('.movie');\n  if (movieElement) {\n    const movieIndex = Array.from(moviesContainer.children).indexOf(movieElement);\n    const movieData = data.results[movieIndex];\n\n    addToQueue(movieData);\n\n    openModal(movieData);\n  }\n}\n\ndocument.addEventListener('click', handleMovieClick);\n\nconst modalCloseButton = document.getElementById('modalCloseButton');\nmodalCloseButton.addEventListener('click', closeModal);\n\nasync function fetchMoviesPopular() {\n\n  const url = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=${currentPage}`;\n  try {\n    const response = await fetch(url);\n    data = await response.json();\n\n    for (const movie of data.results) {\n      const movieElement = document.createElement('div');\n      movieElement.classList.add('movie');\n\n      const genreNames = await Promise.all(\n        movie.genre_ids.map(async genreId => await fetchGenreName(genreId)),\n      );\n\n      const releaseYear = formatDate(movie.release_date);\n\n      movieElement.innerHTML = `\n        <div class=\"movie-content\">\n          <img src=\"https://image.tmdb.org/t/p/w300${movie.poster_path}\" alt=\"${movie.title}\">\n          <h3 class=\"movie-title\">${movie.title.toUpperCase()}</h3>\n          <p class=\"movie-info\">\n            ${genreNames.join(', ')} | ${releaseYear}\n          </p>\n        </div>\n      `;\n      moviesContainer.appendChild(movieElement);\n\n    }\n    hideLoader();\n    currentPage++;\n  } catch (error) {\n    console.error('Błąd pobierania danych:', error);\n  }\n}\n\nloadMoreButton.addEventListener('click', fetchMoviesPopular);\n\nfetchMoviesPopular();"],"names":["$7IoHk","parcelRequire","$fHyLY","$a898f20bd771b561$var$moviesContainer","document","querySelector","$a898f20bd771b561$var$apiKey","$a898f20bd771b561$var$loadMoreButton","getElementById","$a898f20bd771b561$var$data","$a898f20bd771b561$var$currentPage","async","$a898f20bd771b561$var$fetchGenreName","genreId","genreUrl","response","fetch","genre","json","genres","find","id","name","error","console","addEventListener","event","movieElement","target","closest","movieIndex","Array","from","children","indexOf","movieData","results","$82620ba3e0e3cf2d$export$30665681cb9a2b60","modal","modalPoster","src","poster_path","alt","title","textContent","toUpperCase","vote_average","popularity","original_title","genreIds","genre_ids","genreNames","Promise","all","map","join","overview","log","href","style","display","$a898f20bd771b561$var$openModal","$a898f20bd771b561$var$fetchMoviesPopular","url","movie","createElement","classList","add","releaseYear","dateString","release_date","Date","getFullYear","innerHTML","appendChild","hideLoader","$82620ba3e0e3cf2d$var$addToQueueButton","$82620ba3e0e3cf2d$var$queueButton","$82620ba3e0e3cf2d$var$queue","JSON","parse","localStorage","getItem","$82620ba3e0e3cf2d$var$movies","movieData1","movieId","some","movieInQueue","Notify","failure","push","setItem","stringify","success","data","forEach"],"version":3,"file":"index.4426b565.js.map"}