const e="55e390226d2f3f6feba5afe684a5a044",t=document.querySelector(".movies"),o=document.getElementById("loadMore");let n,a=1;async function r(t){const o=`https://api.themoviedb.org/3/genre/movie/list?api_key=${e}&language=en-US`;try{const e=await fetch(o),n=(await e.json()).genres.find((e=>e.id===t));return n?n.name:"Nieznany"}catch(e){return console.error("Błąd pobierania gatunków:",e),"Nieznany"}}document.addEventListener("click",(async e=>{const o=e.target.closest(".movie");if(o){const e=Array.from(t.children).indexOf(o),a=n.results[e];await async function(e){const t=document.getElementById("movieModal"),o=(t.querySelector(".modal-content"),t.querySelector("#modalPoster"));o.src=`https://image.tmdb.org/t/p/w300${e.poster_path}`,o.alt=e.title,t.querySelector("#modalTitle").textContent=e.title,t.querySelector("#modalRating").textContent=e.vote_average,t.querySelector("#modalPopularity").textContent=e.popularity,t.querySelector("#modalOriginalTitle").textContent=e.original_title;const n=e.genre_ids,a=await Promise.all(n.map((async e=>await r(e))));t.querySelector("#modalGenres").textContent=a.join(", "),t.querySelector("#modalOverview").textContent=e.overview,t.querySelector("#watchedButton").addEventListener("click",(()=>{console.log("Dodano do obejrzanych: "+e.title)})),t.querySelector("#watchlistButton").addEventListener("click",(()=>{console.log("Dodano do obejrzenia: "+e.title)})),t.querySelector("#trailerLink").href=`https://www.youtube.com/results?search_query=${e.title}+trailer`,t.style.display="block"}(a)}}));async function i(){const o=`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=en-US&page=${a}`;try{const e=await fetch(o);n=await e.json();for(const e of n.results){const o=document.createElement("div");o.classList.add("movie");const n=await Promise.all(e.genre_ids.map((async e=>await r(e)))),a=(i=e.release_date,new Date(i).getFullYear());o.innerHTML=`\n        <img src="https://image.tmdb.org/t/p/w300${e.poster_path}" alt="${e.title}">\n        <h3>${e.title}</h3>\n        <p>Genre: ${n.join(", ")}</p>\n        <p>Release Year: ${a}</p>\n      `,t.appendChild(o)}a++}catch(e){console.error("Błąd pobierania danych:",e)}var i}document.getElementById("modalCloseButton").addEventListener("click",(function(){document.getElementById("movieModal").style.display="none"})),o.addEventListener("click",i),i();
//# sourceMappingURL=index.3622d6fb.js.map
