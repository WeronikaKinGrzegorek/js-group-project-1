{"mappings":"qLAcO,SAASA,IACd,MAAMC,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAsB,GAC5EC,QAAQC,IAAIN,GACZ,MAAMO,EAAkBC,SAASC,cAAc,oBAC/CF,EAAgBG,UAAY,GAE5BV,EAAcW,SAAQC,MAAMC,IAE1B,MAAMC,QAcVF,eAA8BG,GAC5B,IACE,MAAMC,QAAiBC,MAAM,iDAAiDF,KAG9E,aAFmBC,EAASE,MAM9B,CAHE,MAAOC,GAEP,OADAd,QAAQc,MAAMA,GACP,CAAC,CACV,CACF,CAxBsCC,CAAeP,EAAUQ,IASrDC,EAqEV,SAA4BT,GAC1B,MAAMS,EAAed,SAASe,cAAc,OAC5CD,EAAaE,UAAUC,IAAI,SAC3B,MAAMC,EAAalB,SAASe,cAAc,OAC1CG,EAAWC,IAAMd,EAAUe,YAC3BF,EAAWG,IAAMhB,EAAUiB,MAC3B,MAAMC,EAAavB,SAASe,cAAc,MAC1CQ,EAAWC,YAAcnB,EAAUiB,MACnC,MAAMG,EAAczB,SAASe,cAAc,KAO3C,OANAU,EAAYD,YAAc,kBAAkBnB,EAAUqB,eAEtDZ,EAAaa,YAAYT,GACzBJ,EAAaa,YAAYJ,GACzBT,EAAaa,YAAYF,GAElBX,CACT,CArFyBc,CANK,IACrBvB,KACAC,IAKLP,EAAgB4B,YAAYb,EAAA,GAEhC,C,+SAvBAe,EAAA,SA2GsB7B,SAAS8B,eAAe,wBAChCC,iBAAiB,SAAS,KACtCxC,GAAA","sources":["src/js/watchedLibrary.js"],"sourcesContent":["// попередня версія поберає фільми з локального сховища\n// export function displayWatchedMovies() {\n//   const watchedMovies = JSON.parse(localStorage.getItem('movieWatchlist')) || [];\n//   const moviesContainer = document.querySelector('.library-gallery');\n//   moviesContainer.innerHTML = '';\n//   watchedMovies.forEach(movieData => {\n//     const movieElement = createMovieElement(movieData);\n//     moviesContainer.appendChild(movieElement);\n//   });\n// }\n\nimport { addToWatchlist } from './add-watchlist.js';\n\n// версія коли беруться дані з API\nexport function displayWatchedMovies() {\n  const watchedMovies = JSON.parse(localStorage.getItem('movieWatchlist')) || [];\n  console.log(watchedMovies);\n  const moviesContainer = document.querySelector('.library-gallery');\n  moviesContainer.innerHTML = '';\n\n  watchedMovies.forEach(async movieData => {\n    // Використовуйте функцію fetchMovies або інші методи для отримання додаткової інформації про фільм\n    const additionalMovieInfo = await fetchMovieInfo(movieData.id);\n\n    // Об'єднайте інформацію про фільм та додаткову інформацію, якщо вона доступна\n    const combinedMovieData = {\n      ...movieData,\n      ...additionalMovieInfo,\n    };\n\n    // Створіть елемент фільму на основі комбінованих даних\n    const movieElement = createMovieElement(combinedMovieData);\n    moviesContainer.appendChild(movieElement);\n  });\n}\n\nasync function fetchMovieInfo(movieId) {\n  try {\n    const response = await fetch(`https://api.themoviedb.org/3/genre/movie/list/${movieId}`);\n    const data = await response.json();\n    // Обробіть дані та поверніть їх\n    return data;\n  } catch (error) {\n    console.error(error);\n    return {}; // Поверніть порожній об'єкт у разі помилки\n  }\n}\n\n// варіант коли функція створює розмітку html\n// function renderLibrary(storageContent) {\n//   const moviesContainer = document.querySelector('.library-gallery'); // Отримайте контейнер, куди потрібно вставити HTML-розмітку\n//   moviesContainer.innerHTML = ''; // Очистіть контейнер перед вставкою нового вмісту\n\n//   storageContent.forEach(({ id, poster_path, title, genres, release_date }) => {\n//     // Створіть HTML-елемент для кожного фільму\n//     const movieElement = createMovieElement({\n//       id,\n//       poster_path,\n//       title,\n//       vote_average: '', // Додайте ваш рейтинг фільму, якщо він доступний\n//     });\n\n//     // Додайте фільмовий елемент в контейнер\n//     moviesContainer.appendChild(movieElement);\n//   });\n// }\n\n// // Функція createMovieElement, яку ви вже маєте\n// function createMovieElement(movieData) {\n//   const movieElement = document.createElement('li');\n//   movieElement.classList.add(''); // Додайте необхідні класи для стилізації\n\n//   const movieLink = document.createElement('a');\n//   movieLink.href = '#';\n//   movieLink.classList.add(''); // Додайте класи для стилізації посилання\n\n//   const movieImage = document.createElement('div');\n//   movieImage.classList.add(''); // Додайте класи для стилізації зображення\n//   movieImage.innerHTML = `<img id=\"${movieData.id}\" src=\"${IMG_URL + movieData.poster_path}\" alt=\"${\n//     movieData.title\n//   }\" />`;\n\n//   const movieInfo = document.createElement('div');\n//   movieInfo.classList.add(''); // Додайте класи для стилізації інформації про фільм\n//   movieInfo.innerHTML = `\n//     <h2>${movieData.title}</h2>\n//     <p>${movieData.vote_average ? `Рейтинг: ${movieData.vote_average}` : ''}</p>\n//     <p>${movieData.genres ? movieData.genres.join(', ') : ''} | ${\n//     movieData.release_date ? movieData.release_date.slice(0, 4) : ''\n//   }</p>\n//   `;\n\n//   // Додайте всі елементи до DOM\n//   movieLink.appendChild(movieImage);\n//   movieLink.appendChild(movieInfo);\n//   movieElement.appendChild(movieLink);\n\n//   return movieElement;\n// }\n\nfunction createMovieElement(movieData) {\n  const movieElement = document.createElement('div');\n  movieElement.classList.add('movie');\n  const movieImage = document.createElement('img');\n  movieImage.src = movieData.poster_path;\n  movieImage.alt = movieData.title;\n  const movieTitle = document.createElement('h2');\n  movieTitle.textContent = movieData.title;\n  const movieRating = document.createElement('p');\n  movieRating.textContent = `Średnia ocena: ${movieData.vote_average}`;\n\n  movieElement.appendChild(movieImage);\n  movieElement.appendChild(movieTitle);\n  movieElement.appendChild(movieRating);\n\n  return movieElement;\n}\n\nconst watchedButton = document.getElementById('watchedButtonLibrary');\nwatchedButton.addEventListener('click', () => {\n  displayWatchedMovies();\n});\n\n// function renderLibrary(storageContent) {\n//   const markup = storageContent\n//     .map(({ id, poster_path, title, genres, release_date }) => {\n//       return `<li class=\"\" data-id=\"${id}\">\n//         <a href=\"#\" class=\"\" data-id=\"${id}\">\n//           <div class=\"\">\n//             <img class=\"\" id=\"${id}\" src=\"${IMG_URL + poster_path}\" alt=\"${title}\" />\n//           </div>\n//           <div class=\"\">\n//             <h2 class=\"\">${title}</h2>\n//             <p class=\"\">${genres.map(({ name }) => name).join(', ')} | ${release_date.slice(\n//         0,\n//         4,\n//       )}</p>\n//           </div>\n//         </a>\n//       </li>`;\n//     })\n//     .join('');\n\n//   // Отримайте контейнер, куди потрібно вставити HTML-розмітку\n//   const moviesContainer = document.querySelector('.library');\n\n//   // Вставте HTML-розмітку в контейнер\n//   moviesContainer.innerHTML = markup;\n// }\n"],"names":["$6e333127fc2b34a4$export$7a9cf3c7f2b4f503","watchedMovies","JSON","parse","localStorage","getItem","console","log","moviesContainer","document","querySelector","innerHTML","forEach","async","movieData","additionalMovieInfo","movieId","response","fetch","json","error","$6e333127fc2b34a4$var$fetchMovieInfo","id","movieElement","createElement","classList","add","movieImage","src","poster_path","alt","title","movieTitle","textContent","movieRating","vote_average","appendChild","$6e333127fc2b34a4$var$createMovieElement","parcelRequire","getElementById","addEventListener"],"version":3,"file":"library.e976a636.js.map"}